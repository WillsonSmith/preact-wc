{"version":3,"file":"index.module.js","sources":["../src/components/Counter/Counter.js","../src/util/preact-shadow-dom.js","../src/index.js"],"sourcesContent":["import { h } from 'preact';\nimport { useState } from 'preact/hooks';\nimport ShadowDOM from '../../util/preact-shadow-dom';\n\nimport styles from './styles.css';\n\nexport const Counter = ShadowDOM(() => {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div class=\"Wrapper\">\n      <div>Count: {count}</div>\n      <button onClick={() => setCount(count + 1)}>Increment</button>\n    </div>\n  );\n}, styles);\n","import { Component, h, render, unmountComponentAtNode } from 'preact';\n\nexport default function ShadowDOM(ComponentClass, CSSString) {\n  class ShadowDOMComponentClass extends Component {\n    setup(node) {\n      if (!node) {\n        console.warn(\n          `ShadowDOM failed to create shadow dom for ${ComponentClass.displayName ||\n            'component'}, because node was falsy.`\n        );\n        return;\n      }\n\n      this.shadow = node.attachShadow({ mode: 'open' });\n      this._component = render(<ComponentClass {...this.props} />, this.shadow);\n      this.shadow.innerHTML += `<style>${CSSString}</style>`;\n    }\n\n    render() {\n      return <div ref={this.setup.bind(this)} />;\n    }\n  }\n  ShadowDOMComponentClass.displayName = `ShadowDOM(${ComponentClass.displayName})`;\n\n  return ShadowDOMComponentClass;\n}\n","import register from 'preact-custom-element';\nimport { Counter } from './components';\n\nregister(Counter, 'my-counter');\n"],"names":["const","ComponentClass","ShadowDOMComponentClass","register","useState","h","class","count","onClick","setCount","setup","node","shadow","attachShadow","mode","_component","render","this","props","innerHTML","console","warn","displayName","ref","bind","Component"],"mappings":"mIAMOA,ICJ2BC,EAC1BC,ECARC,GDDkCF,mBDKNG,EAAS,wBAGjCC,SAAKC,MAAM,WACTD,aAAK,UAAQE,GACbF,YAAQG,0BAAeC,EAASF,EAAQ,KAAI,gBCT1CL,mJACJQ,eAAMC,GACCA,QAQAC,OAASD,EAAKE,aAAa,CAAEC,KAAM,cACnCC,WAAaC,EAAOX,EAACJ,EAAmBgB,KAAKC,OAAWD,KAAKL,aAC7DA,OAAOO,WAAc,4BATxBC,QAAQC,mDACuCpB,EAAeqB,aAC1D,uDAURN,yBACSX,SAAKkB,IAAKN,KAAKP,MAAMc,KAAKP,YAhBCQ,IAmBdH,YAAe,aAAYrB,kBAE5CC,GCrBS"}